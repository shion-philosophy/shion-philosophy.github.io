/* =====================================================
   Shion Philosophy — Global Mystic Theme CSS (complete)
   - 統一パレット／星屑背景／流星／三位一体円環
   - 書ボタン（星座シンボル）／結章＝六芒星の特別演出
   - 2カラム基準（スマホ〜タブレット）／大型は3カラム可
   ===================================================== */

/* ---------- Theme Variables ---------- */
:root{
  /* Color system */
  --bg:#0b0b1a;           /* 宇宙の闇 */
  --ink:#e8ecff;          /* 文字色 */
  --muted:#a9b3d9;        /* 補助文字 */
  --gold:#ffd76f;         /* 祈りの金色 */
  --halo:#fff2c0;         /* 金環のハイライト */
  --accent:#8fb7ff;       /* 冷たい星光 */
  --glass:rgba(16,26,56,.45);

  /* Layout */
  --radius:18px;
  --shadow:0 20px 40px rgba(0,0,20,.35);
  --max:1100px;
  --bp:860px;
}

/* ---------- Base & Cosmic Background ---------- */
*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  color:var(--ink);
  background:
    radial-gradient(70% 60% at 50% 0%, #181d3b 0%, var(--bg) 70%),
    radial-gradient(120% 80% at 50% 120%, #070a18 10%, #000 90%);
  font-family:'Noto Sans JP',ui-sans-serif,system-ui,-apple-system,"Hiragino Sans","Yu Gothic",sans-serif;
  line-height:1.9;
  overflow-x:hidden;
}

/* 星屑（GPU軽量） */
body::before,body::after{
  content:"";position:fixed;inset:0;pointer-events:none;background-repeat:repeat;z-index:-1
}
body::before{
  background:
    radial-gradient(1px 1px at 10% 20%, #fff4 0%, transparent 55%),
    radial-gradient(1px 1px at 80% 30%, #fff8 0%, transparent 55%),
    radial-gradient(1px 1px at 30% 80%, #fff6 0%, transparent 55%),
    radial-gradient(1px 1px at 60% 60%, #fff5 0%, transparent 55%);
  opacity:.7; animation:stars1 60s linear infinite;
}
body::after{
  background:
    radial-gradient(1px 1px at 20% 70%, #fff6 0%, transparent 50%),
    radial-gradient(1px 1px at 70% 90%, #fff8 0%, transparent 50%);
  opacity:.4; animation:stars2 80s linear infinite reverse;
}
@keyframes stars1{to{transform:translate(-120px,100px)}}
@keyframes stars2{to{transform:translate(120px,-120px)}}

/* ---------- Main container ---------- */
.main-content{max-width:var(--max);margin:0 auto;padding:clamp(28px,5vw,64px) 20px 96px;position:relative}

/* ---------- Meteor (流星：右上→左下) ---------- */
.meteor{
  position:absolute;width:180px;height:2px;
  background:linear-gradient(270deg,var(--gold),transparent);
  filter:drop-shadow(0 0 10px var(--gold));
  opacity:0; pointer-events:none;
  animation:meteor 7s ease-in-out infinite; will-change:transform,opacity;
}
.meteor:nth-of-type(1){top:12%;left:75%;animation-delay:0s}
.meteor:nth-of-type(2){top:50%;left:85%;animation-delay:2.4s}
.meteor:nth-of-type(3){top:78%;left:70%;animation-delay:4.8s}
@keyframes meteor{
  0%{opacity:0;transform:translate(220px,-220px) rotate(135deg) scale(1)}
  10%{opacity:1;transform:translate(0,0) rotate(135deg) scale(1.05)}
  85%{opacity:.7;transform:translate(-480px,480px) rotate(135deg) scale(0.95)}
  100%{opacity:0;transform:translate(-620px,620px) rotate(135deg) scale(0.9)}
}

/* ---------- Hero / Headings ---------- */
.hero{text-align:center;margin-bottom:24px}
.project-title{
  font-size:clamp(28px,6vw,48px);
  font-weight:800; letter-spacing:.15em;
  text-shadow:0 0 20px #aab4ff2e,0 0 2px #ffffff50;
}
.subtitle{
  font-size:clamp(12px,2.2vw,14px);
  color:var(--muted); letter-spacing:.2em; margin-top:4px
}
.quote{
  color:var(--gold); font-style:italic; font-size:16px; margin:16px auto 26px;
  text-shadow:0 0 18px #ffd76f40; animation:glow 5s ease-in-out infinite alternate;
}
@keyframes glow{0%{opacity:.85;text-shadow:0 0 10px #ffd76f66}100%{opacity:1;text-shadow:0 0 25px #fff8}}

/* ---------- CTA Buttons ---------- */
.button-group{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-bottom:32px}
.btn{
  display:inline-flex;align-items:center;justify-content:center;gap:.5em;
  padding:.7rem 1.1rem; border-radius:12px; font-size:14px; color:var(--ink);
  text-decoration:none; border:1px solid rgba(255,255,255,.12);
  background:var(--glass); backdrop-filter:blur(6px);
  transition:transform .2s, box-shadow .2s, background .2s;
}
.btn:hover{transform:translateY(-2px);box-shadow:0 8px 20px #0004}
.btn.gold{
  background:linear-gradient(180deg,#ffe18f,#d4af37); color:#1a1333; font-weight:700;
  border-color:#d4af37;
}

/* =====================================================
   TRINITY — 詩 / 韻 / 祈  サークル（神々しい円環）
   - 中央に金環が回転
   - ラベルは独立配置（崩れない三角配置）
   ===================================================== */
.trinity{
  position:relative; margin:36px auto 44px; width:min(860px,92vw); height:360px;
  display:grid; place-items:center;
}

/* 金色の回転円環（神々しさ） */
.trinity .ring{
  position:absolute; inset:0; margin:auto; width:min(520px,82vw); height:min(520px,82vw);
  border-radius:50%;
  background:
    radial-gradient(closest-side, transparent 62%, rgba(255,215,111,.25) 64%, transparent 67%),
    conic-gradient(from 0deg, rgba(255,215,111,.75), rgba(255,215,111,.12), rgba(255,215,111,.75));
  filter:blur(.2px) drop-shadow(0 0 22px rgba(255,215,111,.35));
  animation:ringSpin 22s linear infinite;
  opacity:.9;
}
@keyframes ringSpin{to{transform:rotate(360deg)}}

/* 星砂の粒子レイヤー（静かな輝き） */
.trinity .stardust{
  position:absolute; inset:0; pointer-events:none;
  background:
    radial-gradient(2px 2px at 30% 40%, rgba(255,245,210,.7) 0%, transparent 60%),
    radial-gradient(1.6px 1.6px at 70% 60%, rgba(255,245,210,.5) 0%, transparent 60%),
    radial-gradient(1.4px 1.4px at 50% 20%, rgba(255,245,210,.45) 0%, transparent 60%);
  filter:blur(.2px);
  animation:dustFloat 18s ease-in-out infinite alternate;
}
@keyframes dustFloat{
  0%{transform:translate3d(0,0,0)}
  100%{transform:translate3d(12px,-10px,0)}
}

/* ラベル（詩/韻/祈）：読みやすく神秘的に */
.trinity .label{
  position:absolute; padding:.55rem .8rem; border-radius:12px;
  background:linear-gradient(180deg,rgba(18,22,46,.76),rgba(10,14,33,.76));
  border:1px solid rgba(255,255,255,.14);
  box-shadow:0 10px 30px rgba(0,0,0,.35);
  text-shadow:0 1px 0 #0008;
  backdrop-filter:blur(6px);
  font-weight:700; letter-spacing:.08em;
}
.trinity .label .en{display:block;color:#cfd9ff;opacity:.85;font-size:12px;font-weight:500;margin-top:2px}

/* —— 配置（視覚三角：整った幾何配置） —— */
.trinity .poem{ right: 6%; top:  22%; text-align:right }     /* 詩 = 右上寄せ */
.trinity .resonance{ left:6%; top:  58%; text-align:left }   /* 韻 = 左下寄せ */
.trinity .prayer{ left: 50%; transform:translateX(-50%); bottom: 8%; text-align:center } /* 祈 = 下中央 */

/* ラベルの装飾色（控えめな異なる輝き） */
.trinity .poem{ border-color:rgba(255,230,170,.45)}
.trinity .resonance{ border-color:rgba(160,200,255,.35)}
.trinity .prayer{ border-color:rgba(220,240,255,.35)}

/* =====================================================
   BOOK LIST — 星座シンボル & 六芒星（結章）
   - 統一グラデーション
   - 2カラムを基準（大画面は3カラムに昇格）
   ===================================================== */
.book-list{
  display:grid;
  grid-template-columns:repeat(2, minmax(150px, 1fr)); /* 2カラム基準 */
  gap:14px; width:min(620px,92vw); margin:0 auto 80px; text-align:center;
}
@media (min-width:1180px){
  .book-list{ grid-template-columns:repeat(3, minmax(150px, 1fr)); }
}

/* 統一色・神秘ガラス */
.book-btn{
  position:relative; display:flex; align-items:center; justify-content:center; gap:6px;
  padding:12px 18px; font-size:1.06rem; font-weight:600; color:#fff;
  background:
    linear-gradient(180deg, rgba(34,40,74,.88), rgba(18,22,44,.82)),
    radial-gradient(120% 120% at 50% -20%, rgba(255,215,111,.22), transparent 60%);
  border:1px solid rgba(255,255,255,.14);
  border-radius:12px; text-decoration:none;
  box-shadow:0 6px 18px rgba(0,0,0,.35);
  transition:transform .25s ease, box-shadow .25s ease, background .25s ease, border-color .25s ease;
  backdrop-filter:blur(6px);
}

/* 星座/記号は data-symbol から */
.book-btn::before{
  content:attr(data-symbol);
  font-size:1.2rem; line-height:1; color:var(--gold);
  filter:drop-shadow(0 0 6px rgba(255,215,111,.4));
  transition:transform .35s ease;
}

/* Hover演出（柔らかく金環がにじむ） */
.book-btn:hover{
  transform:translateY(-2px);
  box-shadow:0 10px 26px rgba(0,0,0,.45), 0 0 16px rgba(255,215,111,.18) inset;
  border-color:rgba(255,225,160,.45);
  background:
    linear-gradient(180deg, rgba(42,48,84,.9), rgba(18,22,44,.86)),
    radial-gradient(100% 120% at 50% -20%, rgba(255,215,111,.28), transparent 60%);
}
.book-btn:hover::before{ transform:rotate(8deg) scale(1.08) }

/* 結章（✡ 六芒星）特別演出 */
.book-btn.final{
  color:#ffeec6;
  background:
    linear-gradient(180deg, rgba(60,48,22,.75), rgba(24,18,10,.78)),
    radial-gradient(120% 120% at 50% -20%, rgba(255,240,180,.26), transparent 60%);
  border-color:rgba(255,230,170,.65);
  box-shadow:0 0 18px rgba(255,230,170,.25), 0 10px 28px rgba(0,0,0,.45);
  animation:finalPulse 6s ease-in-out infinite;
}
.book-btn.final::before{
  color:#ffeec6; text-shadow:0 0 12px rgba(255,240,180,.9);
  animation:starSpin 12s linear infinite;
}
@keyframes finalPulse{
  0%,100%{box-shadow:0 0 18px rgba(255,230,170,.25),0 10px 28px rgba(0,0,0,.45); transform:scale(1)}
  50%{box-shadow:0 0 30px rgba(255,240,180,.5),0 12px 34px rgba(0,0,0,.5); transform:scale(1.02)}
}
@keyframes starSpin{to{transform:rotate(360deg) scale(1.05)}}

/* モバイル最適化（余白/サイズ微調整） */
@media (max-width:480px){
  .book-list{gap:10px}
  .book-btn{font-size:1rem;padding:10px 14px}
  .book-btn::before{font-size:1.05rem}
}

/* ---------- Accessibility: Reduced Motion ---------- */
@media (prefers-reduced-motion:reduce){
  .meteor, .trinity .ring, .trinity .stardust, .book-btn.final::before, .book-btn.final{
    animation:none!important
  }
}

/* ---------- Optional: Footer / Links (予備) ---------- */
.mini-links a{color:#c7d8ff;text-decoration:none;border-bottom:1px dashed #c7d8ff73}
.mini-links a:hover{color:#fff}
