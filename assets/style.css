/* ===========================
   Global
   =========================== */
:root{
  --bg:#0b0b1a; --ink:#e8ecff; --muted:#a9b3d9;
  --accent:#8fb7ff; --gold:#ffd76f;
  --radius:18px; --shadow:0 20px 40px rgba(0,0,20,.35);
  --max:1100px; --bp:860px;
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%}
body{
  color:var(--ink);
  background:
    radial-gradient(60% 40% at 50% 0%, #141a3b 0%, var(--bg) 60%),
    radial-gradient(110% 70% at 50% 120%, #0a102a 20%, #070a18 80%);
  font-family:'Noto Sans JP', ui-sans-serif, system-ui, "Hiragino Sans", "Yu Gothic", sans-serif;
  line-height:1.9;
  overflow-x:hidden;
}

/* 星屑エフェクト */
body::before, body::after{
  content:""; position:fixed; inset:0; pointer-events:none; background-repeat:repeat;
}
body::before{
  background:
    radial-gradient(1px 1px at 12% 24%, #fff4 0%, transparent 52%),
    radial-gradient(1px 1px at 78% 32%, #fffc 0%, transparent 52%),
    radial-gradient(1px 1px at 44% 68%, #fffa 0%, transparent 52%),
    radial-gradient(1px 1px at 20% 86%, #fff8 0%, transparent 52%),
    radial-gradient(1px 1px at 60% 12%, #fff6 0%, transparent 52%),
    radial-gradient(1px 1px at 86% 79%, #fff9 0%, transparent 52%);
  opacity:.75; animation: starDrift 60s linear infinite; background-size: 300px 300px;
}
body::after{
  background:
    radial-gradient(1px 1px at 15% 55%, #fff6 0%, transparent 50%),
    radial-gradient(1px 1px at 72% 70%, #fff4 0%, transparent 50%);
  opacity:.45; animation: starDrift2 90s linear infinite reverse; background-size: 400px 400px;
}
@keyframes starDrift{to{transform:translate3d(-120px,140px,0)}}
@keyframes starDrift2{to{transform:translate3d(120px,-120px,0)}}

.main{max-width:var(--max); margin:0 auto; padding:clamp(20px,4vw,40px) 20px 80px; position:relative}

/* 流星（右上→左下） */
.meteor{
  position:absolute;width:180px;height:2px;background:linear-gradient(270deg,var(--gold),transparent);
  filter:drop-shadow(0 0 12px var(--gold));opacity:0;pointer-events:none;
  animation:shoot 7s ease-in-out infinite;will-change:transform,opacity;
}
.meteor:nth-of-type(1){top:12%;left:78%;animation-delay:0s}
.meteor:nth-of-type(2){top:46%;left:88%;animation-delay:2.4s}
.meteor:nth-of-type(3){top:72%;left:70%;animation-delay:4.8s}
@keyframes shoot{
  0%{opacity:0;transform:translate(220px,-220px) rotate(135deg) scale(1)}
  8%{opacity:1;transform:translate(0,0) rotate(135deg) scale(1.04)}
  85%{opacity:.75;transform:translate(-420px,420px) rotate(135deg) scale(0.96)}
  100%{opacity:0;transform:translate(-620px,620px) rotate(135deg) scale(0.9)}
}

/* ===========================
   HERO（og.jpgを背景として使用）
   =========================== */
.hero{
  position:relative;
  border-radius:20px;
  overflow:hidden;
  min-height:52vh;
  display:flex; align-items:center; justify-content:center;
  background: url('./og.jpg') center/cover no-repeat;
  box-shadow:0 18px 50px #0008;
  margin-top:12px;
}
.hero__veil{
  position:absolute; inset:0;
  background: radial-gradient(60% 50% at 50% 40%, rgba(0,0,0,.25), rgba(0,0,0,.65));
  backdrop-filter: blur(2px);
}
.hero__inner{position:relative; text-align:center; padding:56px 20px}
.hero__title{
  font-size:clamp(28px,6vw,56px); font-weight:800; letter-spacing:.18em;
  text-shadow:0 3px 20px #aab4ff2e, 0 0 1px #ffffff58;
}
.hero__subtitle{color:#c8d4ff; letter-spacing:.12em; margin:.2rem 0 1rem; font-size:clamp(12px,2.2vw,14px)}
.hero__quote{
  color:var(--gold); font-style:italic; margin:.2rem 0 1.2rem;
  text-shadow:0 0 18px #ffd76f40, 0 1px 0 #0006; animation:glowText 4s ease-in-out infinite alternate;
}
@keyframes glowText{0%{opacity:.82;text-shadow:0 0 10px #ffd76f66}100%{opacity:1;text-shadow:0 0 25px #fff6ccaa}}

/* CTA */
.cta{display:flex;flex-wrap:wrap;gap:12px;justify-content:center;margin-top:4px}
.btn{
  display:inline-flex;align-items:center;gap:.5em;padding:.7rem 1.1rem;border-radius:12px;
  color:var(--ink);text-decoration:none;border:1px solid #9cc7ff3d;background:rgba(16,26,56,.5);
  backdrop-filter:blur(6px); transition:transform .15s, box-shadow .2s; font-size:14px;
}
.btn:hover{transform:translateY(-1px); box-shadow:0 8px 20px #00000059}
.btn.primary{background:linear-gradient(180deg,#ffe18f,#d4af37); color:#1a1333; font-weight:700; border-color:#d4af37}

/* ===========================
   三位一体（詩・韻・祈）
   =========================== */
./* トリニティ全体 */
.trinity {
  position: relative;
  width: 100%;
  height: 380px;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* 円環（背景） */
.trinity .circle {
  position: absolute;
  width: 300px;
  height: 300px;
  border-radius: 50%;
  background: radial-gradient(circle at center, rgba(255, 220, 120, 0.8), rgba(120, 90, 20, 0.1) 70%);
  box-shadow: 0 0 60px 20px rgba(255, 200, 80, 0.3), inset 0 0 40px rgba(255, 255, 180, 0.2);
  animation: spin 20s linear infinite;
  filter: blur(1px);
  background: conic-gradient(from 180deg at center, #ffd77a 0%, #fff2a8 50%, #ffefc3 100%);
}

/* 光粒（星砂） */
.trinity::before {
  content: "";
  position: absolute;
  width: 400px;
  height: 400px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255,255,200,0.2) 0%, transparent 70%);
  box-shadow: 0 0 60px 20px rgba(255,255,150,0.2);
  animation: shimmer 6s ease-in-out infinite alternate;
}

/* 星砂パーティクル */
.trinity .particle-layer {
  position: absolute;
  inset: 0;
  background: url('https://raw.githubusercontent.com/JulianLaval/canvas-particle-network/master/img/particles.png') center/cover no-repeat;
  opacity: 0.15;
  mix-blend-mode: screen;
}

/* 詩・韻・祈（配置） */
.trinity .element {
  position: absolute;
  font-size: 2rem;
  font-weight: 600;
  color: #fff;
  text-align: center;
  background: rgba(255, 255, 255, 0.06);
  backdrop-filter: blur(6px);
  border-radius: 12px;
  padding: 10px 20px;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.15);
  transition: all 0.5s ease;
}

.trinity .element:hover {
  transform: scale(1.1);
  color: #ffe48a;
  box-shadow: 0 0 20px rgba(255, 230, 120, 0.4);
}

/* 各位置（正三角形配置） */
.trinity .poem {
  top: 10%;
  right: 25%;
}
.trinity .resonance {
  top: 10%;
  left: 25%;
}
.trinity .prayer {
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
}

/* アニメーション */
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

@keyframes shimmer {
  from { opacity: 0.3; transform: scale(1); }
  to { opacity: 0.6; transform: scale(1.05); }
}
/* ===========================
   クイックナビ（各書ボタン）
   =========================== */
.bookgrid{
  margin:18px auto 6px; max-width:900px;
  display:grid; grid-template-columns:repeat(2, minmax(0, 1fr)); gap:10px;
}
.bookbtn{
  display:flex; align-items:center; justify-content:center; gap:.6em;
  padding:.65rem .9rem; border-radius:12px; text-decoration:none; color:#0e0b18; font-weight:700;
  background:linear-gradient(145deg,#b8c9ff,#ffe18f);
  border:1px solid rgba(255,255,255,.35);
  box-shadow:0 8px 22px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.35);
}
.bookbtn:hover{filter:brightness(1.05)}
/* 2列固定（スマホで見やすく） */
@media (min-width:861px){
  .bookgrid{grid-template-columns:repeat(4, minmax(0, 1fr))}
}

/* ===========================
   リード文
   =========================== */
.lead{
  margin:18px auto 0; max-width:900px; color:#cfd7ff; text-align:center;
  border:1px solid #9cc7ff2d; border-radius:16px; padding:14px 16px;
  background:linear-gradient(180deg,#121a3a99,#090e2199); box-shadow:var(--shadow);
}

/* ===========================
   フッター
   =========================== */
.footer{
  text-align:center; color:#a9b3d9; font-size:13px; margin:40px 0 30px;
}
.mini-links{margin-top:10px;display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
.mini-links a{color:#c7d8ff;text-decoration:none;border-bottom:1px dashed #c7d8ff73}
.mini-links a:hover{color:#fff}

/* アクセシビリティ */
@media (prefers-reduced-motion:reduce){
  .meteor, .ring, .sparks, body::before, body::after{animation:none!important; opacity:.9}
}

/* レスポンシブ微調整 */
@media (max-width:720px){
  .tri{width:120px;height:120px}
  .tri__label{font-size:28px}
  .tri--poem{top:6%; right:4%}
  .tri--rhyme{top:10%; left:4%}
  .tri--prayer{bottom:6%; left:8%}
}
