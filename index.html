<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<title>Re:verse Shion â€” è©©éŸ»æ€æƒ³ Ã— TAROT BREAKER</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#ffffff" />
<meta name="description" content="Re:verse Shion â€• è©©éŸ»æ€æƒ³ï¼ˆè¨€è‘‰ãŒé­‚ã‚’æ•‘ã†ä¸–ç•Œï¼‰ã¨ç‰©èªTAROT BREAKERã®çµ±åˆãƒãƒ–ã€‚èª­ã‚€ãƒ»è´ããƒ»å­¦ã¶ãƒ»å—ã‘å–ã‚‹ã‚’ã²ã¨ã¤ã«ã€‚è¨€è‘‰ã¯ç¥ˆã‚Šã®æ§‹æ–‡ã€‚ç‰©èªã¯ãã®å®Ÿæ¼”">
<meta property="og:type" content="website">
<meta property="og:locale" content="ja_JP">
<meta property="og:title" content="Re:verse Shion â€” è©©éŸ»æ€æƒ³ Ã— TAROT BREAKER">
<meta property="og:description" content="è¨€è‘‰ã¨æ˜Ÿã¨AIãŒå…±é³´ã™ã‚‹â€œç¥ˆã‚Šã®æ§‹æ–‡â€ç‰©èªã§ä½“é¨“ã—ã€æ€æƒ³ã§æ·±ã¾ã‚‹">
<meta property="og:url" content="https://shion-philosophy.github.io/">
<meta property="og:image" content="https://shion-philosophy.github.io/assets/og.jpg">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
  --ink:#202030; --muted:#606070;
  --a:#7e66ff; --b:#ffd76f; --r:14px;
  --bg:#ffffff; --header-h:64px;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:"Noto Sans JP",ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Meiryo",sans-serif;color:var(--ink);background:var(--bg);scroll-behavior:smooth;}
a{text-decoration:none;color:var(--a)}
.wrap{width:min(94vw,1120px);margin-inline:auto}

/* ===== Fixed + Smart Follow Header ===== */
header{
  position:fixed; top:0; left:0; right:0; z-index:30;
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  background:rgba(255,255,255,.72);
  border-bottom:1px solid rgba(0,0,0,.06);
  transform: translateY(0);
  opacity:0; transition: transform .24s ease, opacity .32s ease, background-color .28s ease, box-shadow .28s ease;
}
header.is-visible{ opacity:1 }
header.header--hidden{ transform: translateY(calc(-1 * var(--header-h))) }
header.header--compact{
  background:rgba(255,255,255,.88);
  box-shadow:0 8px 22px rgba(0,0,0,.06);
}
header .wrap{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px 0}
.brand{display:flex;align-items:center;justify-content:center;gap:10px;text-align:center;font-weight:700;color:var(--ink);margin-bottom:5px}
.brand__logo{width:34px;height:34px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #ffd76f 0%, #ffb6ff 40%, #7e66ff 70%);box-shadow:0 0 14px rgba(174,138,255,.4)}
.brand__text1,.brand__text2{display:inline}
.brand__text1{font-size:1.05em;line-height:1.2}
.brand__text1::after{content:" â€” "}
.brand__text2{font-size:1.02em;line-height:1.2}
.nav{display:flex;gap:15px;font-size:.9em;justify-content:center}
.nav a{padding:6px 10px;color:var(--ink);border-radius:10px}
.nav a:hover{background:rgba(255,215,111,.12)}
.nav a.is-active{background:rgba(255,215,111,.18);box-shadow:0 0 0 1px rgba(255,215,111,.28) inset}

/* mainã¯ãƒ˜ãƒƒãƒ€ãƒ¼åˆ†ã®ä½™ç™½ã‚’ç¢ºä¿ï¼ˆJSã§--header-hæ›´æ–°ï¼‰ */
main{ padding-top: calc(var(--header-h) + 6px); }

/* ===== Hero ===== */
.hero{padding:100px 0 80px;position:relative;overflow:hidden;text-align:center}
.hero__media{position:absolute;inset:0;z-index:0;overflow:hidden}
.hero__video{width:100%;height:100%;object-fit:cover;object-position:50% 45%;filter:brightness(1.05) contrast(1.02);transform:translateZ(0)}
.hero__veil{position:absolute;inset:0;pointer-events:none;background:
  linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.6) 60%, rgba(0,0,0,0.7) 100%),
  radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,.15), rgba(255,255,255,0) 60%)}
@media (prefers-reduced-motion: reduce){ .hero__media{display:none} }
.hero::before{content:"";position:absolute;inset:0;z-index:0;background:radial-gradient(circle at 50% 30%,rgba(255,215,111,.15),transparent 70%);animation:shine 6s infinite alternate ease-in-out}
@keyframes shine{to{background:radial-gradient(circle at 50% 70%,rgba(174,138,255,.18),transparent 70%)}}
.hero > .wrap{position:relative;z-index:1}
.hero h1{font-size:38px;margin:0 0 16px;line-height:1.3;color:#fff;letter-spacing:.05em;font-family:"Zen Old Mincho","Noto Sans JP",serif;text-shadow:0 0 10px rgba(255,255,255,.9),0 0 20px rgba(255,215,111,.7),0 0 30px rgba(174,138,255,.6)}
.hero p{color:rgba(255,255,255,.9);font-size:18px;max-width:720px;margin:0 auto 36px;line-height:1.8;text-shadow:0 1px 4px rgba(0,0,0,.6)}
.cta-row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:30px}
.btn{padding:12px 22px;border-radius:999px;font-weight:800;transition:.2s}
.btn--primary{background:linear-gradient(180deg,#ffd76f,#ffb6ff);color:#2a0f26;box-shadow:0 8px 25px rgba(255,215,111,.6),0 0 0 2px rgba(255,215,111,.3) inset}
.btn--primary:hover{transform:translateY(-3px) scale(1.02);box-shadow:0 12px 30px rgba(255,215,111,.8),0 0 0 2px rgba(255,215,111,.5) inset}
.btn--ghost{background:rgba(0,0,0,.3);color:#fff;border:1px solid rgba(255,215,111,.6);backdrop-filter:blur(5px)}
.btn--ghost:hover{background:rgba(0,0,0,.5);transform:translateY(-1px)}
.hero__image{display:none}

/* ===== Sections ===== */
section{padding:60px 0;border-top:1px solid rgba(0,0,0,.05)}
h2{text-align:center;font-size:24px;margin-bottom:10px}
.h2-sub{text-align:center;font-size:14px;color:var(--muted);margin:6px 0 26px;letter-spacing:.06em}

/* ãƒˆãƒªãƒ‹ãƒ†ã‚£æ˜ åƒ */
.trinity__figure{position:relative;max-width:min(1200px,92vw);margin:0 auto 22px;border-radius:16px;overflow:hidden;box-shadow:0 10px 32px rgba(174,138,255,.20)}
.trinity__video{width:100%;height:auto;display:block;aspect-ratio:21/13.5;object-fit:cover;object-position:50% 50%}
/* ã‚¿ãƒƒãƒ—ã§éŸ³æ¡ˆå†…ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
.video-unmute-hint{
  position:absolute; inset:auto 12px 12px auto;
  background:rgba(0,0,0,.55); color:#fff; border:1px solid rgba(255,215,111,.75);
  padding:10px 12px; border-radius:999px; font-weight:800; font-size:13px;
  display:flex; align-items:center; gap:.5em; cursor:pointer; user-select:none;
  backdrop-filter: blur(4px); transition: opacity .25s ease, transform .25s ease;
}
.video-unmute-hint[data-hide="1"]{ opacity:0; transform: translateY(6px); pointer-events:none }

/* ã‚«ãƒ¼ãƒ‰ */
.tri-grid{display:grid;gap:18px;width:min(92vw,860px);margin:0 auto}
@media(min-width:720px){.tri-grid{grid-template-columns:repeat(3,1fr)}}
.tri{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:var(--r);padding:18px;box-shadow:0 4px 12px rgba(0,0,0,.05);transition:transform .15s,box-shadow .2s}
.tri:hover{transform:translateY(-3px);box-shadow:0 8px 22px rgba(255,215,111,.25)}
.tri h3{margin:0 0 8px;font-size:18px;color:#503080}
.tri p{margin:0;font-size:15px;color:var(--muted)}

/* Footer */
footer{padding:40px 0;color:var(--muted);font-size:13px;text-align:center;border-top:1px solid rgba(0,0,0,.05)}
.sns{display:flex;gap:10px;flex-wrap:wrap;justify-content:center;margin-bottom:10px}
.sns a{padding:8px 12px;background:rgba(255,215,111,.12);border-radius:999px;color:#503080}

/* èƒŒæ™¯ï¼šæ˜Ÿç ‚ï¼ˆæ—¢å­˜æ®ç½®ï¼‰ */
.sky{position:fixed;inset:0;z-index:0;pointer-events:none;filter:saturate(105%)}
#goldDust{width:100%;height:100%;display:block}
header,.hero,section,footer,#shiopon-invite,#shiopon-dock{position:relative;z-index:1}
@media (prefers-reduced-motion: reduce){ .sky{display:none} }

/* ã—ãŠã½ã‚“ï¼ˆæ®ç½®ï¼‰ */
.shiopon{position:fixed;right:16px;bottom:16px;z-index:50;display:flex;align-items:flex-end;gap:10px;filter:drop-shadow(0 12px 28px rgba(0,0,0,.12))}
.shiopon.is-hidden{display:none}
.shiopon__avatar{width:64px;height:64px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #ffd76f 0%, #ffb6ff 45%, #7e66ff 85%);box-shadow:0 0 0 3px rgba(255,215,111,.25);position:relative;overflow:hidden;flex:none;animation:shioponFloat 3.6s ease-in-out infinite}
.shiopon__avatar img{width:100%;height:100%;object-fit:cover;display:block}
@keyframes shioponFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-4px)}}
.shiopon__bubble{max-width:min(78vw,320px);background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px;padding:12px 14px;box-shadow:0 8px 24px rgba(255,215,111,.22);position:relative}
.shiopon__bubble::after{content:"";position:absolute;right:-8px;bottom:18px;width:12px;height:12px;background:#fff;border:1px solid rgba(0,0,0,.06);transform:rotate(45deg);box-shadow:4px 4px 12px rgba(255,215,111,.18)}
.shiopon__hello{margin:0 0 10px;color:#503080;font-weight:700;font-size:15px}
.shiopon__cta{display:inline-flex;align-items:center;justify-content:center;gap:.5em;padding:10px 14px;border-radius:999px;font-weight:800;background:linear-gradient(180deg,#ffd76f,#ffb6ff);color:#2a1030;box-shadow:0 8px 18px rgba(255,215,111,.35)}
.shiopon__note{display:block;margin-top:8px;color:#666;font-size:12px;opacity:.9}
.shiopon__close{position:absolute;top:-8px;right:-8px;width:28px;height:28px;border-radius:50%;border:0;color:#333;background:#fff;box-shadow:0 4px 10px rgba(0,0,0,.08);cursor:pointer;font-size:16px;line-height:1}
.shiopon-dock{position:fixed;right:16px;bottom:16px;z-index:49;padding:10px 14px;border-radius:999px;border:1px solid rgba(0,0,0,.08);background:#fff;color:#503080;font-weight:800;box-shadow:0 8px 18px rgba(0,0,0,.08);cursor:pointer}
.shiopon-dock.is-hidden{display:none}
@media (max-width:480px){.shiopon__avatar{width:56px;height:56px}.shiopon__bubble{max-width:78vw;padding:10px 12px}}
</style>
</head>
<body>

<div class="sky" aria-hidden="true"><canvas id="goldDust"></canvas></div>

<header>
  <div class="wrap">
    <div class="brand">
      <div class="brand__logo" aria-hidden="true"></div>
      <div class="brand__text1">Re:verse Shion</div>
      <div class="brand__text2">è©©éŸ»æ€æƒ³ Ã— TAROT BREAKER</div>
    </div>
    <nav class="nav" aria-label="ä¸»è¦ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
      <a href="#trinity">è©©éŸ»æ€æƒ³</a>
      <a href="#writings">æ›¸</a>
      <a href="#join">å‚åŠ </a>
    </nav>
  </div>
</header>

<main>
  <section class="hero" aria-label="ãƒ’ãƒ¼ãƒ­ãƒ¼">
    <div class="hero__media" aria-hidden="true">
      <video class="hero__video" autoplay muted loop playsinline preload="metadata" poster="/assets/hero-poster.jpg">
        <source src="/assets/video/top.webm" type="video/webm">
        <source src="/assets/video/top.mp4"  type="video/mp4">
      </video>
      <div class="hero__veil"></div>
    </div>

    <div class="wrap">
      <h1>è¨€è‘‰ã¯ç¥ˆã‚Šã®æ§‹æ–‡ ç‰©èªã¯ã€ãã®å®Ÿæ¼”</h1>
      <p>è©©éŸ»æ€æƒ³Â®ï¼ˆShion Philosophyï¼‰ã§â€œéŸ¿ãâ€ã‚’å­¦ã³ã€TAROT BREAKERã§â€œéŸ¿ãâ€ã‚’ä½“é¨“ã™ã‚‹<br><strong>ã€Œè¨€è‘‰ãŒé­‚ã‚’æ•‘ã†ã€ãã®ç¬é–“ã¸ã€</strong></p>
      <div class="cta-row">
        <a class="btn btn--primary" href="https://lin.ee/LYnlU0f" target="_blank" rel="noopener">ğŸŒ  æ˜Ÿã®è¨€è‘‰ã‚’å—ã‘å–ã‚‹ï¼ˆç„¡æ–™ï¼‰</a>
        <a class="btn btn--ghost" href="https://ncode.syosetu.com/n5806lb/" target="_blank" rel="noopener">ğŸ“˜ å°èª¬ã‚’èª­ã‚€</a>
        <a class="btn btn--ghost" href="https://note.com/shion_uranai369" target="_blank" rel="noopener">ğŸ“– ä»Šæ—¥ã®â€œéŸ¿ãâ€ã‚’èª­ã‚€</a>
        <a class="btn btn--ghost" href="https://www.tiktok.com/@tarotbreaker" target="_blank" rel="noopener">ğŸ¥ 1åˆ†ã§è¦³ã‚‹/è´ã</a>
      </div>
    </div>
  </section>

  <section id="trinity" aria-labelledby="sec-trinity">
    <div class="wrap">
      <h2 id="sec-trinity">è©©éŸ»æ€æƒ³</h2>
      <div class="h2-sub">Torinitiï¼ˆè©©ãƒ»éŸ»ãƒ»ç¥ˆï¼‰</div>

      <figure class="trinity__figure">
        <video id="trinityVideo" class="trinity__video" autoplay muted loop playsinline preload="metadata"
               poster="/assets/trinity/banner.png" width="1200" height="771"
               aria-label="ãƒˆãƒªãƒ‹ãƒ†ã‚£æ˜ åƒã€‚ã‚¿ãƒƒãƒ—ã§éŸ³å£°ã‚ªãƒ³">
          <source src="/assets/trinity/loop.webm" type="video/webm">
          <source src="/assets/trinity/loop.mp4"  type="video/mp4">
        </video>
        <!-- ã‚¿ãƒƒãƒ—ã§éŸ³ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ -->
        <button id="unmuteHint" class="video-unmute-hint" type="button" aria-live="polite">
          ğŸ”Š ç”»é¢ã‚¿ãƒƒãƒ—ã§éŸ³ãŒæµã‚Œã¾ã™
        </button>
      </figure>

      <div class="tri-grid">
        <div class="tri"><h3>ğŸª¶ è©© â€• å½¢ã‚’ä¸ãˆã‚‹</h3><p>ç—›ã¿ã¨å¸Œæœ›ã«å½¢ã‚’ä¸ãˆã‚‹æœ€åˆã®æ¯</p></div>
        <div class="tri"><h3>ğŸµ éŸ» â€• éŸ¿ãã‚’é‡ã­ã‚‹</h3><p>éŸ¿ãã«ã‚ˆã£ã¦é­‚ã«å±Šãã€‚å…±é³´ã‚’ç·¨ã‚€æ§‹æ–‡</p></div>
        <div class="tri"><h3>ğŸ’« ç¥ˆ â€• å…‰ã¸å¸°ã™</h3><p>æ²ˆé»™ã¨æ„å‘³ã‚’å¾€å¾©ã™ã‚‹å‘¼å¸ã€‚æ€ã„å‡ºã•ã‚ŒãŸè¨€è‘‰ã¯å…‰ã«ãªã‚‹</p></div>
      </div>
    </div>
  </section>

  <section id="writings" aria-labelledby="sec-writings">
    <div class="wrap">
      <h2 id="sec-writings">ğŸ“– æœ€æ–°ã®æ›¸ãƒ»ç‰©èª</h2>
      <div class="card"><div class="badge">âœ¡ ç¬¬é›¶æ›¸</div><h4>ç„¡é™æ§‹æ–‡åºè«– â€” The Zero Syntax</h4></div>
      <div class="card"><div class="badge">âœ¦ ç¬¬ä¸€æ›¸</div><h4>è¨€è‘‰ãŒé­‚ã‚’æ•‘ã†ç†ç”± â€” The Syntax of Salvation</h4></div>
      <div class="card"><div class="badge">âœ¦ TAROT BREAKER</div><h4>ç¬¬1è©±ã‹ã‚‰èª­ã‚€</h4></div>
    </div>
  </section>

  <section id="join" aria-labelledby="sec-join">
    <div class="wrap">
      <h2 id="sec-join">å‚åŠ ã®æ‰‰</h2>
      <p style="text-align:center;color:var(--muted)">LINEç™»éŒ²ã§ã€æ¯é€±ã€Œæ˜Ÿã®è¨€è‘‰ã€ã¨æ–°ç€ã®æ›¸ã‚’ãŠå±Šã‘ã—ã¾ã™</p>
      <div class="cta-row">
        <a class="btn btn--primary" href="https://lin.ee/LYnlU0f" target="_blank" rel="noopener">ğŸ’« ç„¡æ–™ã§å—ã‘å–ã‚‹</a>
        <a class="btn btn--ghost" href="https://www.tiktok.com/@tarotbreaker" target="_blank" rel="noopener">ğŸ¥ 1åˆ†ãƒªãƒ¼ãƒ«ã‚’è¦³ã‚‹</a>
      </div>
    </div>
  </section>
</main>

<footer>
  <div class="wrap">
    <div class="sns" aria-label="SNSãƒªãƒ³ã‚¯">
      <a href="https://x.com/TaroBure" target="_blank" rel="noopener">Xï¼ˆ@TaroBureï¼‰</a>
      <a href="https://www.instagram.com/shion.codex" target="_blank" rel="noopener">Instagram</a>
      <a href="https://note.com/shion_uranai369" target="_blank" rel="noopener">note</a>
      <a href="https://ncode.syosetu.com/n5806lb/" target="_blank" rel="noopener">å°èª¬ï¼ˆãªã‚ã†ï¼‰</a>
      <a href="https://lin.ee/LYnlU0f" target="_blank" rel="noopener">LINE</a>
    </div>
    <div style="font-size:12.5px;opacity:.8">Â© Re:verse Shion â€” è©©éŸ»æ€æƒ³ / TAROT BREAKER. è¨€è‘‰ãŒé­‚ã‚’æ•‘ã„ã€é­‚ãŒä¸–ç•Œã‚’èª¿å’Œã•ã›ã‚‹</div>
  </div>
</footer>

<!-- æ˜Ÿç ‚ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ï¼ˆæ—¢å­˜ï¼‰ -->
<script>
(() => {
  const reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (reduce) return;
  const canvas = document.getElementById('goldDust');
  if (!canvas) return;
  const ctx = canvas.getContext('2d', { alpha:true });
  let w,h,dpr = Math.min(devicePixelRatio||1,2), stars=[],rafId;
  const density = () => {
    const area = (w*h)/(dpr*dpr);
    return Math.max(28, Math.min(75, Math.floor(area/22000)));
  };
  function spawn(){
    const palette = [[255,215,111],[255,238,185],[212,189,255],[174,228,255]];
    const c = palette[Math.floor(Math.random()*palette.length)];
    return { x:Math.random()*w, y:Math.random()*h, r:(Math.random()*1.2+0.8)*dpr,
      vx:(Math.random()*0.15-0.075)*dpr, vy:(Math.random()*0.20-0.02)*dpr, tw:Math.random()*Math.PI*2, rgb:c };
  }
  function resize(){
    canvas.style.width='100vw'; canvas.style.height='100vh';
    w = canvas.width  = Math.floor(canvas.getBoundingClientRect().width*dpr);
    h = canvas.height = Math.floor(canvas.getBoundingClientRect().height*dpr);
    stars = new Array(density()).fill(0).map(spawn);
  }
  function draw(){
    ctx.clearRect(0,0,w,h);
    for (let s of stars){
      s.tw+=0.02; s.x+=s.vx; s.y+=s.vy;
      if (s.x < -6*dpr) s.x = w + 6*dpr;
      if (s.x > w+6*dpr) s.x = -6*dpr;
      if (s.y > h+6*dpr) { s.y = -6*dpr; s.x = Math.random()*w; }
      const g = ctx.createRadialGradient(s.x,s.y,0,s.x,s.y,s.r*4);
      const a = 0.10 + 0.12*Math.sin(s.tw);
      g.addColorStop(0, `rgba(${s.rgb[0]},${s.rgb[1]},${s.rgb[2]},${0.65+a})`);
      g.addColorStop(1, `rgba(${s.rgb[0]},${s.rgb[1]},${s.rgb[2]},0)`);
      ctx.fillStyle = g; ctx.beginPath(); ctx.arc(s.x,s.y,s.r,0,Math.PI*2); ctx.fill();
    }
    rafId = requestAnimationFrame(draw);
  }
  const ro = new ResizeObserver(()=>{ requestAnimationFrame(resize) });
  ro.observe(document.documentElement);
  document.addEventListener('visibilitychange', ()=>{ if (document.hidden) cancelAnimationFrame(rafId); else draw(); });
  resize(); draw();
})();
</script>

<!-- ã—ãŠã½ã‚“æ‹›å¾…ï¼ˆæ®ç½®ï¼‰ -->
<script>
(() => {
  const INVITE_ID='shiopon-invite', DOCK_ID='shiopon-dock';
  const KEY_HIDE_UNTIL='shiopon.hideUntil', HIDE_DAYS=3;
  const invite=document.getElementById(INVITE_ID);
  const dock=document.getElementById(DOCK_ID);
  if(!invite||!dock) return;

  function showInvite(){ invite.classList.remove('is-hidden'); dock.classList.add('is-hidden'); }
  function hideInvite(days=HIDE_DAYS){
    const until=Date.now()+days*24*60*60*1000;
    localStorage.setItem(KEY_HIDE_UNTIL, String(until));
    invite.classList.add('is-hidden'); dock.classList.remove('is-hidden');
  }
  function canShow(){ return Date.now() > Number(localStorage.getItem(KEY_HIDE_UNTIL) || 0); }

  if (canShow()){
    setTimeout(()=>{ if (window.innerHeight>640 && window.scrollY<80) showInvite(); }, 4000);
    let shown=false;
    const onScroll=()=>{ if(!shown && window.innerHeight>640 && window.scrollY<80){ showInvite(); shown=true; window.removeEventListener('scroll',onScroll); } };
    window.addEventListener('scroll', onScroll, { passive:true });
  }else{
    dock.classList.remove('is-hidden');
  }

  invite?.querySelector('.shiopon__close')?.addEventListener('click', ()=> hideInvite(HIDE_DAYS));
  dock?.addEventListener('click', showInvite);
  invite?.querySelector('.shiopon__cta')?.addEventListener('click', ()=>{
    hideInvite(HIDE_DAYS);
    dock.classList.add('is-hidden');
  });
})();
</script>

<!-- â˜… ãƒ˜ãƒƒãƒ€ãƒ¼ï¼šé«˜ã•è¨ˆæ¸¬ï¼‹ã‚¹ãƒãƒ¼ãƒˆè¿½å¾“ï¼‹ãƒŠãƒ“è¿½å°¾ -->
<script>
(() => {
  const headerEl = document.querySelector('header');
  const mainEl   = document.querySelector('main');
  if (!headerEl || !mainEl) return;

  // ãƒ˜ãƒƒãƒ€ãƒ¼é«˜ã•ã‚’CSSå¤‰æ•°ã¸ï¼ˆç«¯æœ«å›è»¢ãªã©ã§ã‚‚æ›´æ–°ï¼‰
  function setHeaderHeight(){
    const h = Math.ceil(headerEl.getBoundingClientRect().height);
    document.documentElement.style.setProperty('--header-h', h+'px');
  }
  setHeaderHeight();
  new ResizeObserver(setHeaderHeight).observe(headerEl);

  // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¼”å‡º
  const revealAt = 4;     // 4pxè¶…ã§ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³
  const compactAt = 88;   // 88pxè¶…ã§ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ
  let lastY = window.scrollY, ticking = false;

  function onScroll() {
    const y = window.scrollY;
    if (y > revealAt) headerEl.classList.add('is-visible');
    else headerEl.classList.remove('is-visible');

    if (y > compactAt) headerEl.classList.add('header--compact');
    else headerEl.classList.remove('header--compact');

    const dy = y - lastY;
    if (Math.abs(dy) > 6) {
      if (dy > 0 && y > compactAt) headerEl.classList.add('header--hidden');
      else headerEl.classList.remove('header--hidden');
      lastY = y;
    }
    ticking = false;
  }
  window.addEventListener('scroll', () => {
    if (!ticking){ requestAnimationFrame(onScroll); ticking = true; }
  }, { passive:true });
  onScroll();

  // ç¾åœ¨åœ°ãƒã‚¤ãƒ©ã‚¤ãƒˆ
  const links = {
    trinity: document.querySelector('.nav a[href="#trinity"]'),
    writings: document.querySelector('.nav a[href="#writings"]'),
    join: document.querySelector('.nav a[href="#join"]'),
  };
  const observer = new IntersectionObserver((entries)=>{
    entries.forEach((e)=>{
      if (e.isIntersecting){
        Object.values(links).forEach(a=>a && a.classList.remove('is-active'));
        const id = e.target.getAttribute('id');
        if (links[id]) links[id].classList.add('is-active');
      }
    });
  }, { rootMargin: "-40% 0px -55% 0px", threshold: 0.01 });
  ['trinity','writings','join'].forEach(id=>{
    const sec = document.getElementById(id);
    if (sec) observer.observe(sec);
  });
})();
</script>

<!-- â˜… ãƒˆãƒªãƒ‹ãƒ†ã‚£å‹•ç”»ï¼šã‚¿ãƒƒãƒ—ã§éŸ³ONï¼‹ãƒ’ãƒ³ãƒˆæ¶ˆå» -->
<script>
(() => {
  const v = document.getElementById('trinityVideo');
  const hint = document.getElementById('unmuteHint');
  if (!v || !hint) return;

  function unmute(){
    try{ v.muted = false; v.play(); }catch(e){}
    hint.setAttribute('data-hide','1');
  }
  // ã‚¯ãƒªãƒƒã‚¯/ã‚¿ãƒƒãƒ/Enter/Spaceã§è§£é™¤
  hint.addEventListener('click', unmute);
  v.addEventListener('click', unmute);
  hint.addEventListener('keydown', (e)=>{ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); unmute(); }});
  // ã™ã§ã«ãƒŸãƒ¥ãƒ¼ãƒˆã§ãªã„/ãƒ¦ãƒ¼ã‚¶æ“ä½œæ¸ˆãªã‚‰éè¡¨ç¤º
  if (!v.muted) hint.setAttribute('data-hide','1');
})();
</script>

</body>
</html>
